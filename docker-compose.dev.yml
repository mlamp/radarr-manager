# Development docker-compose for running Crawl4AI locally
# Usage: docker-compose -f docker-compose.dev.yml up -d
#
# This provides a local Crawl4AI instance for movie discovery scraping.
# The scraper extracts movie titles from RT and IMDB pages reliably.
#
# Crawl4AI Dashboard: http://localhost:11235/dashboard
# Crawl4AI Playground: http://localhost:11235/playground

services:
  crawl4ai:
    image: unclecode/crawl4ai:latest
    container_name: crawl4ai
    ports:
      - "11235:11235"
    environment:
      - CRAWL4AI_API_TOKEN=  # Optional: set for API authentication
    shm_size: 1g  # Required for browser rendering
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:11235/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s

  # Alternative: Firecrawl (if you prefer it over Crawl4AI)
  # Uncomment to use Firecrawl instead
  # firecrawl:
  #   image: mendableai/firecrawl:latest
  #   container_name: firecrawl
  #   ports:
  #     - "3002:3002"
  #   environment:
  #     - PORT=3002
  #     - HOST=0.0.0.0
  #   restart: unless-stopped
